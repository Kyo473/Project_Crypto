# Управление чатами - API Сервис

Этот проект представляет собой API сервис для управления чатами. С ним вы можете добавлять чаты , получать сообщения. 
Проект использует PostgreSQL в качестве базы данных.

## Запуск проекта
### Для запуска проекта из директории выполните следующие команды:

```bash
docker-compose -f deploy/docker-compose.yaml up -d
```
### Для остановки проекта используйте:

```bash
docker-compose -f deploy/docker-compose.yaml stop
```
## API Управления чатами :
     - `POST` **/message** - создание нового сообщения в БД 
     - `GET` **/message/{MessageID}**  - получение сообщения из БД
     - `POST` **/chatroom** - создание нового чата 
     - `GET` **/chatroom/{RoomID}**  - Возвращает информацию о чате
     - `GET` **/chat**  - Открывает html с чатом пользователей
     - `WS` **/ws/{RoomID}/{client_id}**  - Эндпоинт для подключения к чату
     - `GET` **/last_messages/{RoomID}**  - Получение прошлых сообщений в чате и БД по её RoomID
     

# Конфигурация
| Переменная    | Назначение                      | Значение по-умолчанию                                |
| -----------   | -----                           | ---                                                  |
| POSTGRES_DSN  | Строка подключения к PostgreSQL | postgresql+asyncpg://user:pass@localhost:5432/foobar |


# Документация

После запуска доступна документация: http://localhost:5001/docs
